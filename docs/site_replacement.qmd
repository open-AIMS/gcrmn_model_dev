---
title: "Comparing model types - site replacement"
author: "Murray Logan"
date: today
date-format: "DD/MM/YYYY"
format:
  html:
    ## Format
    theme: [default, resources/style.scss]
    css: resources/style.css
    html-math-method: mathjax
    ## Table of contents
    toc: true
    toc-float: true
    ## Numbering
    number-sections: true
    number-depth: 3
    ## Layout
    page-layout: full
    fig-caption-location: "bottom"
    fig-align: "center"
    fig-width: 4
    fig-height: 4
    fig-dpi: 72
    tbl-cap-location: top
    ## Code
    code-fold: false
    code-tools: true
    code-summary: "Show the code"
    code-line-numbers: true
    code-block-border-left: "#ccc"
    code-copy: true
    highlight-style: atom-one
    ## Execution
    execute:
      echo: true
      #cache: true
    ## Rendering
    embed-resources: true
crossref:
  fig-title: '**Figure**'
  fig-labels: arabic
  tbl-title: '**Table**'
  tbl-labels: arabic
engine: knitr
## execute: 
##   cache: true
jupyter: python3
output_dir: "docs"
documentclass: article
fontsize: 12pt
mainfont: Arial
mathfont: LiberationMono
monofont: DejaVu Sans Mono
classoption: a4paper
bibliography: resources/references.bib
---

```{r}
#| label: setup
#| include: false

knitr::opts_chunk$set(
    cache.lazy = FALSE,
    tidy = "styler"
)
## allow indented chunks
assignInNamespace(".sep.label",
  "^\\ *(#|--)+\\s*(@knitr|----+)(.*?)-*\\s*$",
    ns = "knitr"
)
knitr::read_chunk("../R/site_replacement.R")
knitr::read_chunk("../python/site_replacement.py")
```

## Purpose

## Preparations

::: {.panel-tabset}

### R
Load the necessary R libraries

```{r}
#| label: site replacement libraries
#| output: false
#| eval: true
#| warning: false
#| message: false
#| cache: false
```

Establish the global environment and paths

```{r}
#| label: site replacement global parameters
#| results: hide
#| eval: true
#| echo: true
#| cache: false
```

### Python

```{python}
#| label: python site replacement libraries
#| output: false
#| eval: true
#| warning: false
#| message: false
#| cache: false
```
```{python}
#| label: python site replacement global parameters
#| results: hide
#| eval: true
#| echo: true
#| cache: false
```
:::

## Import data

::: {.panel-tabset}

### R

:::: {.panel-tabset}

#### 1. Full reef level spatio-temporal benthic data

```{r}
#| label: read all reefs data
#| results: markup
#| eval: true
#| echo: true
#| cache: true
```

```{r}
#| label: read all reefs data show
#| results: markup
#| eval: true
#| echo: true
#| cache: true
#| dependson: "read all reefs data"
#| code-fold: false
benthos_reefs_sf 
```

```{r}
#| label: all reefs temporal summary
#| results: markup
#| eval: false
#| echo: true
#| cache: false
#| code-fold: true
```

```{r}
#| label: all reefs temporal summary plot
#| results: markup
#| eval: false
#| echo: true
#| fig-width: 8
#| fig-height: 6
#| code-fold: true
#| cache: true
#| dependson: "read all reefs data"
```

![](../output/figures/R_all_temporal_summary_plot.png){width=500px}

#### 2. All sampled reefs

```{r}
#| label: read sampled reefs data
#| results: markup
#| echo: true
#| cache: true
#| dependson: "read all reefs data"
```

```{r}
#| label: sampled simple raw means
#| results: markup
#| eval: false
#| echo: true
#| code-fold: true
#| cache: true
#| dependson: "read sampled reefs data"
```

::::

### Python

:::: {.panel-tabset}

#### 1. Full reef level spatio-temporal benthic data

```{python}
#| label: python read all reefs data
#| results: markup
#| eval: true
#| echo: true
#| cache: true
```
     
```{python}
#| label: python read all reefs data show
#| results: markup
#| eval: true
#| echo: true
#| cache: true
#| dependson: "read all reefs data"
#| code-fold: false
```

```{python}
#| label: python all reefs temporal summary
#| results: markup
#| eval: false
#| echo: true
#| cache: true
#| code-fold: true
```

```{python}
#| label: python all reefs temporal summary plot
#| results: markup
#| eval: false
#| echo: true
#| fig-width: 8
#| fig-height: 6
#| code-fold: true
#| cache: true
```

![](../output/figures/Python_all_temporal_summary_plot.png){width=500px}

:::



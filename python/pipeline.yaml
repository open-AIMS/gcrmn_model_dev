meta:
  extract_upstream: false

executor:
  dotted_path: ploomber.executors.Parallel
  processes: 4 # limit to a max of 2 processes
  start_method: spawn # start child process using 'spawn' method

tasks:
  - source: site_replacement.site_replacement_global_parameters_
    product: cache/site_replacement_global_parameters_.pkl
    name: site_replacement_global_parameters_

  - source: site_replacement.read_all_reefs_data_
    product: cache/read_all_reefs_data_.pkl
    upstream: [site_replacement_global_parameters_]

  - source: site_replacement.read_all_reefs_data_show_
    product: cache/read_all_reefs_data_show_.pkl
    upstream: [read_all_reefs_data_]

  - source: site_replacement.read_all_temporal_summary_
    product: cache/read_all_temporal_summary_.pkl
    upstream: [read_all_reefs_data_]

  - source: site_replacement.read_all_temporal_summary_plot_
    product: cache/read_all_temporal_summary_plot_.png
    upstream: [read_all_temporal_summary_, site_replacement_global_parameters_]

    ## All sampled reefs --------------------------------------------------
  - source: site_replacement.read_sampled_reefs_data_
    product: cache/read_sampled_reefs_data_.pkl
    upstream: [site_replacement_global_parameters_]

  - source: site_replacement.read_sampled_reefs_data_show_
    product: cache/read_sampled_reefs_data_show_.pkl
    upstream: [read_sampled_reefs_data_]

  - source: site_replacement.sampled_simple_raw_means_ 
    product: cache/sampled_simple_raw_means_.pkl
    upstream: [read_sampled_reefs_data_]

  - source: site_replacement.sampled_simple_raw_means_plot_
    product: cache/sampled_simple_raw_means_plot_.png
    upstream: [site_replacement_global_parameters_, sampled_simple_raw_means_]

    ## Replace a reef --------------------------------------------------
  - source: site_replacement.read_sampled_reefs_data_1_
    product: cache/read_sampled_reefs_data_1_
    upstream: [site_replacement_global_parameters_]

  - source: site_replacement.read_sampled_reefs_data_1_show_
    product: cache/read_sampled_reefs_data_1_show_.pkl
    upstream: [read_sampled_reefs_data_1_]

  - source: site_replacement.sampled_reefs_data_1_plot_
    product: cache/sampled_reefs_data_1_plot_.png
    upstream: [site_replacement_global_parameters_, read_sampled_reefs_data_1_]

    ## Replace a reef (V2) ---------------------------------------------
  - source: site_replacement.read_sampled_reefs_data_2_
    product: cache/read_sampled_reefs_data_2_
    upstream: [site_replacement_global_parameters_]

  - source: site_replacement.read_sampled_reefs_data_2_show_
    product: cache/read_sampled_reefs_data_2_show_.pkl
    upstream: [read_sampled_reefs_data_2_]

  - source: site_replacement.sampled_reefs_data_2_plot_
    product: cache/sampled_reefs_data_2_plot_.png
    upstream: [site_replacement_global_parameters_, read_sampled_reefs_data_2_]

    ## Data transformations
    ## All sampled reefs ------------------------------------------------
  - source: site_replacement.sampled_reefs_data_prep_0_
    product: cache/sampled_reefs_data_prep_0_.pkl
    upstream: [site_replacement_global_parameters_, read_sampled_reefs_data_]

  - source: site_replacement.newdata_0_
    product: cache/newdata_0_.pkl
    upstream: [site_replacement_global_parameters_, sampled_reefs_data_prep_0_]

    ## Replace a reef --------------------------------------------------
  - source: site_replacement.sampled_reefs_data_prep_1_
    product: cache/sampled_reefs_data_prep_1_.pkl
    upstream: [site_replacement_global_parameters_, read_sampled_reefs_data_1_]

  - source: site_replacement.newdata_1_
    product: cache/newdata_1_.pkl
    upstream: [site_replacement_global_parameters_, sampled_reefs_data_prep_1_]

    ## Replace a reef (V2) ---------------------------------------------
  - source: site_replacement.sampled_reefs_data_prep_2_
    product: cache/sampled_reefs_data_prep_2_.pkl
    upstream: [site_replacement_global_parameters_, read_sampled_reefs_data_2_]

  - source: site_replacement.newdata_2_
    product: cache/newdata_2_.pkl
    upstream: [site_replacement_global_parameters_, sampled_reefs_data_prep_2_]

    ## Modelled trends
    ## All sampled reefs ------------------------------------------------
  - source: site_replacement.sampled_reefs_bart_data_0_
    product: cache/sampled_reefs_bart_data_0_.pkl
    upstream: [site_replacement_global_parameters_, sampled_reefs_data_prep_0_]

  - source: site_replacement.sampled_reefs_bart_fit_0_
    product: cache/sampled_reefs_bart_fit_0_.pkl
    upstream: [site_replacement_global_parameters_, sampled_reefs_bart_data_0_]

  - source: site_replacement.sampled_reefs_bart_prep_plot_0_
    product: cache/sampled_reefs_bart_prep_plot_0_.pkl
    upstream: [site_replacement_global_parameters_, sampled_reefs_bart_fit_0_, sampled_reefs_bart_data_0_]

  - source: site_replacement.sampled_reefs_bart_plot_0_
    product: cache/sampled_reefs_bart_plot_0_.pkl
    upstream: [site_replacement_global_parameters_, sampled_reefs_bart_prep_plot_0_]

  - source: site_replacement.sampled_reefs_bart_prep_plot_0c_
    product: cache/sampled_reefs_bart_prep_plot_0c_.pkl
    upstream: [site_replacement_global_parameters_, sampled_reefs_bart_fit_0_, sampled_reefs_bart_data_0_]

  - source: site_replacement.sampled_reefs_bart_plot_0c_
    product: cache/sampled_reefs_bart_plot_0c_.pkl
    upstream: [site_replacement_global_parameters_, sampled_reefs_bart_prep_plot_0c_]

    ## Replace a reef --------------------------------------------------
  - source: site_replacement.sampled_reefs_bart_data_1_
    product: cache/sampled_reefs_bart_data_1_.pkl
    upstream: [site_replacement_global_parameters_, sampled_reefs_data_prep_1_]

  - source: site_replacement.sampled_reefs_bart_fit_1_
    product: cache/sampled_reefs_bart_fit_1_.pkl
    upstream: [site_replacement_global_parameters_, sampled_reefs_bart_data_1_]

  - source: site_replacement.sampled_reefs_bart_prep_plot_1_
    product: cache/sampled_reefs_bart_prep_plot_1_.pkl
    upstream: [site_replacement_global_parameters_, sampled_reefs_bart_fit_1_, sampled_reefs_bart_data_1_]

  - source: site_replacement.sampled_reefs_bart_plot_1_
    product: cache/sampled_reefs_bart_plot_1_.pkl
    upstream: [site_replacement_global_parameters_, sampled_reefs_bart_prep_plot_1_]

  - source: site_replacement.sampled_reefs_bart_prep_plot_1c_
    product: cache/sampled_reefs_bart_prep_plot_1c_.pkl
    upstream: [site_replacement_global_parameters_, sampled_reefs_bart_fit_1_, sampled_reefs_bart_data_1_]

  - source: site_replacement.sampled_reefs_bart_plot_1c_
    product: cache/sampled_reefs_bart_plot_1c_.pkl
    upstream: [site_replacement_global_parameters_, sampled_reefs_bart_prep_plot_1c_]

    ## Replace a reef (V2) ---------------------------------------------

  - source: site_replacement.sampled_reefs_bart_data_2_
    product: cache/sampled_reefs_bart_data_2_.pkl
    upstream: [site_replacement_global_parameters_, sampled_reefs_data_prep_2_]

  - source: site_replacement.sampled_reefs_bart_fit_2_
    product: cache/sampled_reefs_bart_fit_2_.pkl
    upstream: [site_replacement_global_parameters_, sampled_reefs_bart_data_2_]

  - source: site_replacement.sampled_reefs_bart_prep_plot_2_
    product: cache/sampled_reefs_bart_prep_plot_2_.pkl
    upstream: [site_replacement_global_parameters_, sampled_reefs_bart_fit_2_, sampled_reefs_bart_data_2_]

  - source: site_replacement.sampled_reefs_bart_plot_2_
    product: cache/sampled_reefs_bart_plot_2_.pkl
    upstream: [site_replacement_global_parameters_, sampled_reefs_bart_prep_plot_2_]

  - source: site_replacement.sampled_reefs_bart_prep_plot_2c_
    product: cache/sampled_reefs_bart_prep_plot_2c_.pkl
    upstream: [site_replacement_global_parameters_, sampled_reefs_bart_fit_2_, sampled_reefs_bart_data_2_]

  - source: site_replacement.sampled_reefs_bart_plot_2c_
    product: cache/sampled_reefs_bart_plot_2c_.pkl
    upstream: [site_replacement_global_parameters_, sampled_reefs_bart_prep_plot_2c_]

  ## - source: site_replacement.sampled_reefs_bart_prep_0_
  ##   product: cache/sampled_reefs_bart_prep_0_.pkl
  ##   upstream: [site_replacement_global_parameters_, sampled_reefs_data_prep_0_]

  ## - source: site_replacement.sampled_reefs_bart_fit_0_
  ##   product: cache/sampled_reefs_bart_fit_0_.pkl
  ##   upstream: [site_replacement_global_parameters_, sampled_reefs_bart_prep_0_]

  ## - source: site_replacement.sampled_reefs_bart_post_0_
  ##   product: cache/sampled_reefs_bart_post_0_.pkl
  ##   upstream: [site_replacement_global_parameters_, sampled_reefs_bart_fit_0_, sampled_reefs_bart_prep_0_]

  ## - source: site_replacement.sampled_reefs_bart_plot_0_
  ##   product: cache/sampled_reefs_bart_plot_0_.pkl
  ##   upstream: [site_replacement_global_parameters_, sampled_reefs_bart_post_0_, sampled_reefs_bart_prep_0_]

  ## - source: site_replacement.sampled_reefs_bart_post_0c_
  ##   product: cache/sampled_reefs_bart_post_0c_.pkl
  ##   upstream: [site_replacement_global_parameters_, sampled_reefs_bart_prep_0_, sampled_reefs_bart_fit_0_]

  ## - source: site_replacement.sampled_reefs_bart_plot_0c_
  ##   product: cache/sampled_reefs_bart_plot_0c_.pkl
  ##   upstream: [site_replacement_global_parameters_, sampled_reefs_bart_post_0c_, sampled_reefs_bart_prep_0_]

  ## - source: site_replacement.test
  ##   product: cache/test.pkl
  ##   upstream: [site_replacement_global_parameters_, sampled_reefs_bart_fit_0_, sampled_reefs_bart_data_0_]

  ## Missing years =========================================================================
  - source: missing_years.missing_years_global_parameters_
    product: cache/missing_years_global_parameters_.pkl
    name: missing_years_global_parameters_

  - source: missing_years.missing_years_read_all_reefs_data_
    product: cache/missing_years_read_all_reefs_data_.pkl
    upstream: [missing_years_global_parameters_]

  - source: missing_years.missing_years_read_all_reefs_data_show_
    product: cache/missing_years_read_all_reefs_data_show_.pkl
    upstream: [missing_years_read_all_reefs_data_]

  - source: missing_years.missing_years_read_all_temporal_summary_
    product: cache/missing_years_read_all_temporal_summary_.pkl
    upstream: [missing_years_read_all_reefs_data_]

  - source: missing_years.missing_years_read_all_temporal_summary_plot_
    product: cache/missing_years_read_all_temporal_summary_plot_.png
    upstream: [missing_years_read_all_temporal_summary_, missing_years_global_parameters_]

    ## All sampled reefs --------------------------------------------------
  - source: missing_years.missing_years_read_sampled_reefs_data_
    product: cache/missing_years_read_sampled_reefs_data_.pkl
    upstream: [missing_years_global_parameters_]

  - source: missing_years.missing_years_read_sampled_reefs_data_show_
    product: cache/missing_years_read_sampled_reefs_data_show_.pkl
    upstream: [missing_years_read_sampled_reefs_data_]

  - source: missing_years.missing_years_sampled_simple_raw_means_ 
    product: cache/missing_years_sampled_simple_raw_means_.pkl
    upstream: [missing_years_read_sampled_reefs_data_]

  - source: missing_years.missing_years_sampled_simple_raw_means_plot_
    product: cache/missing_years_sampled_simple_raw_means_plot_.png
    upstream: [missing_years_global_parameters_, missing_years_sampled_simple_raw_means_]

    ## Temporal gap some reefs -------------------------------------------
  - source: missing_years.read_sampled_reefs_data_3_
    product: cache/read_sampled_reefs_data_3_
    upstream: [missing_years_global_parameters_]

  - source: missing_years.read_sampled_reefs_data_3_show_
    product: cache/read_sampled_reefs_data_3_show_.pkl
    upstream: [read_sampled_reefs_data_3_]

  - source: missing_years.sampled_reefs_data_3_plot_
    product: cache/sampled_reefs_data_3_plot_.png
    upstream: [missing_years_global_parameters_, read_sampled_reefs_data_3_]

    ## Temporal gap all reefs -------------------------------------------
  - source: missing_years.read_sampled_reefs_data_4_
    product: cache/read_sampled_reefs_data_4_
    upstream: [missing_years_global_parameters_]

  - source: missing_years.read_sampled_reefs_data_4_show_
    product: cache/read_sampled_reefs_data_4_show_.pkl
    upstream: [read_sampled_reefs_data_4_]

  - source: missing_years.sampled_reefs_data_4_plot_
    product: cache/sampled_reefs_data_4_plot_.png
    upstream: [missing_years_global_parameters_, read_sampled_reefs_data_4_]

    ## Data transformations

    ## All reefs --------------------------------------------------------
  - source: missing_years.missing_years_benthos_reefs_
    product: cache/missing_years_benthos_reefs_.pkl
    upstream: [missing_years_global_parameters_, missing_years_read_all_reefs_data_]

  - source: missing_years.missing_years_newdata_
    product: cache/missing_years_newdata_.pkl
    upstream: [missing_years_global_parameters_, missing_years_benthos_reefs_]

  - source: missing_years.missing_years_newdata_b_
    product: cache/missing_years_newdata_b_.pkl
    upstream: [missing_years_global_parameters_, missing_years_benthos_reefs_]

    ## All sampled reefs ------------------------------------------------
  - source: missing_years.missing_years_sampled_reefs_data_prep_0_
    product: cache/missing_years_sampled_reefs_data_prep_0_.pkl
    upstream: [missing_years_global_parameters_, missing_years_read_sampled_reefs_data_]

  - source: missing_years.missing_years_newdata_0_
    product: cache/missing_years_newdata_0_.pkl
    upstream: [missing_years_global_parameters_, missing_years_sampled_reefs_data_prep_0_]


    ## Temporal gap some reefs -------------------------------------------

  - source: missing_years.sampled_reefs_data_prep_3_
    product: cache/sampled_reefs_data_prep_3_.pkl
    upstream: [missing_years_global_parameters_, read_sampled_reefs_data_3_]

  - source: missing_years.newdata_3_
    product: cache/newdata_3_.pkl
    upstream: [missing_years_global_parameters_, sampled_reefs_data_prep_3_]

  - source: missing_years.newdata_3b_
    product: cache/newdata_3b_.pkl
    upstream: [missing_years_global_parameters_, sampled_reefs_data_prep_3_]

    ## Temporal gap all reefs -------------------------------------------

  - source: missing_years.sampled_reefs_data_prep_4_
    product: cache/sampled_reefs_data_prep_4_.pkl
    upstream: [missing_years_global_parameters_, read_sampled_reefs_data_4_]

  - source: missing_years.newdata_4_
    product: cache/newdata_4_.pkl
    upstream: [missing_years_global_parameters_, sampled_reefs_data_prep_4_]

  - source: missing_years.newdata_4b_
    product: cache/newdata_4b_.pkl
    upstream: [missing_years_global_parameters_, sampled_reefs_data_prep_4_]

    ## Modelled trends
    ## All sampled reefs ------------------------------------------------
  - source: missing_years.missing_years_sampled_reefs_bart_data_0_
    product: cache/missing_years_sampled_reefs_bart_data_0_.pkl
    upstream: [missing_years_global_parameters_, missing_years_sampled_reefs_data_prep_0_]

  - source: missing_years.missing_years_sampled_reefs_bart_fit_0_
    product: cache/missing_years_sampled_reefs_bart_fit_0_.pkl
    upstream: [missing_years_global_parameters_, missing_years_sampled_reefs_bart_data_0_]

  - source: missing_years.missing_years_sampled_reefs_bart_prep_plot_0_
    product: cache/missing_years_sampled_reefs_bart_prep_plot_0_.pkl
    upstream: [missing_years_global_parameters_, missing_years_sampled_reefs_bart_fit_0_, missing_years_sampled_reefs_bart_data_0_]

  - source: missing_years.missing_years_sampled_reefs_bart_plot_0_
    product: cache/missing_years_sampled_reefs_bart_plot_0_.pkl
    upstream: [missing_years_global_parameters_, missing_years_sampled_reefs_bart_prep_plot_0_]

  - source: missing_years.missing_years_sampled_reefs_bart_prep_plot_0c_
    product: cache/missing_years_sampled_reefs_bart_prep_plot_0c_.pkl
    upstream: [missing_years_global_parameters_, missing_years_sampled_reefs_bart_fit_0_, missing_years_sampled_reefs_bart_data_0_]

  - source: missing_years.missing_years_sampled_reefs_bart_plot_0c_
    product: cache/missing_years_sampled_reefs_bart_plot_0c_.pkl
    upstream: [missing_years_global_parameters_, missing_years_sampled_reefs_bart_prep_plot_0c_]

    ## Temporal gap some reefs -------------------------------------------

  - source: missing_years.sampled_reefs_bart_data_3_
    product: cache/sampled_reefs_bart_data_3_.pkl
    upstream: [missing_years_global_parameters_, sampled_reefs_data_prep_3_, newdata_3b_, missing_years_newdata_b_]

  - source: missing_years.sampled_reefs_bart_fit_3_
    product: cache/sampled_reefs_bart_fit_3_.pkl
    upstream: [missing_years_global_parameters_, sampled_reefs_bart_data_3_]

  - source: missing_years.sampled_reefs_bart_prep_plot_3_
    product: cache/sampled_reefs_bart_prep_plot_3_.pkl
    upstream: [missing_years_global_parameters_, sampled_reefs_bart_fit_3_, sampled_reefs_bart_data_3_]

  - source: missing_years.sampled_reefs_bart_plot_3_
    product: cache/sampled_reefs_bart_plot_3_.pkl
    upstream: [missing_years_global_parameters_, sampled_reefs_bart_prep_plot_3_]

  - source: missing_years.sampled_reefs_bart_mse_3b_1_
    product: cache/sampled_reefs_bart_mse_3b_1_.pkl
    upstream: [missing_years_global_parameters_, sampled_reefs_bart_fit_3_, sampled_reefs_bart_data_3_]

  - source: missing_years.sampled_reefs_bart_prep_plot_3c_
    product: cache/sampled_reefs_bart_prep_plot_3c_.pkl
    upstream: [missing_years_global_parameters_, sampled_reefs_bart_fit_3_, sampled_reefs_bart_data_3_]

  - source: missing_years.sampled_reefs_bart_plot_3c_
    product: cache/sampled_reefs_bart_plot_3c_.pkl
    upstream: [missing_years_global_parameters_, sampled_reefs_bart_prep_plot_3c_]

  - source: missing_years.sampled_reefs_bart_mse_3b_2_
    product: cache/sampled_reefs_bart_mse_3b_2_.pkl
    upstream: [missing_years_global_parameters_, sampled_reefs_bart_fit_3_, sampled_reefs_bart_data_3_]

    ## Temporal gap all reefs -------------------------------------------

  - source: missing_years.sampled_reefs_bart_data_4_
    product: cache/sampled_reefs_bart_data_4_.pkl
    upstream: [missing_years_global_parameters_, sampled_reefs_data_prep_4_, newdata_4b_, missing_years_newdata_b_]

  - source: missing_years.sampled_reefs_bart_fit_4_
    product: cache/sampled_reefs_bart_fit_4_.pkl
    upstream: [missing_years_global_parameters_, sampled_reefs_bart_data_4_]

  - source: missing_years.sampled_reefs_bart_prep_plot_4_
    product: cache/sampled_reefs_bart_prep_plot_4_.pkl
    upstream: [missing_years_global_parameters_, sampled_reefs_bart_fit_4_, sampled_reefs_bart_data_4_]

  - source: missing_years.sampled_reefs_bart_plot_4_
    product: cache/sampled_reefs_bart_plot_4_.pkl
    upstream: [missing_years_global_parameters_, sampled_reefs_bart_prep_plot_4_]

  - source: missing_years.sampled_reefs_bart_mse_4b_1_
    product: cache/sampled_reefs_bart_mse_4b_1_.pkl
    upstream: [missing_years_global_parameters_, sampled_reefs_bart_fit_4_, sampled_reefs_bart_data_4_]

  - source: missing_years.sampled_reefs_bart_prep_plot_4c_
    product: cache/sampled_reefs_bart_prep_plot_4c_.pkl
    upstream: [missing_years_global_parameters_, sampled_reefs_bart_fit_4_, sampled_reefs_bart_data_4_]

  - source: missing_years.sampled_reefs_bart_plot_4c_
    product: cache/sampled_reefs_bart_plot_4c_.pkl
    upstream: [missing_years_global_parameters_, sampled_reefs_bart_prep_plot_4c_]

  - source: missing_years.sampled_reefs_bart_mse_4b_2_
    product: cache/sampled_reefs_bart_mse_4b_2_.pkl
    upstream: [missing_years_global_parameters_, sampled_reefs_bart_fit_4_, sampled_reefs_bart_data_4_]

  ## Incomplete spatial ========================================================
  - source: incomplete_spatial.incomplete_spatial_global_parameters_
    product: cache/incomplete_spatial_global_parameters_.pkl
    name: incomplete_spatial_global_parameters_

  - source: incomplete_spatial.incomplete_spatial_read_all_reefs_data_
    product: cache/incomplete_spatial_read_all_reefs_data_.pkl
    upstream: [incomplete_spatial_global_parameters_]

    ## All Northern reefs --------------------------------------------------
  - source: incomplete_spatial.incomplete_spatial_read_sampled_reefs_data_10_
    product: cache/incomplete_spatial_read_sampled_reefs_data_10_.pkl
    upstream: [incomplete_spatial_global_parameters_]

  - source: incomplete_spatial.read_sampled_reefs_data_10_plot_1_
    product: cache/incomplete_spatial_read_sampled_reefs_data_10_plot_1.png
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_read_sampled_reefs_data_10_]

  - source: incomplete_spatial.read_sampled_reefs_data_10_plot_2_
    product: cache/incomplete_spatial_read_sampled_reefs_data_10_plot_2.png
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_read_sampled_reefs_data_10_]

    ## Northern sampled reefs --------------------------------------------------
  - source: incomplete_spatial.incomplete_spatial_read_sampled_reefs_data_12_
    product: cache/incomplete_spatial_read_sampled_reefs_data_12_.pkl
    upstream: [incomplete_spatial_global_parameters_]

  - source: incomplete_spatial.read_sampled_reefs_data_12_plot_1_
    product: cache/incomplete_spatial_read_sampled_reefs_data_12_plot_1.png
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_read_sampled_reefs_data_12_]

  - source: incomplete_spatial.read_sampled_reefs_data_12_plot_2_
    product: cache/incomplete_spatial_read_sampled_reefs_data_12_plot_2.png
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_read_sampled_reefs_data_12_]

    ## All Southern reefs --------------------------------------------------
  - source: incomplete_spatial.incomplete_spatial_read_sampled_reefs_data_11_
    product: cache/incomplete_spatial_read_sampled_reefs_data_11_.pkl
    upstream: [incomplete_spatial_global_parameters_]

  - source: incomplete_spatial.read_sampled_reefs_data_11_plot_1_
    product: cache/incomplete_spatial_read_sampled_reefs_data_11_plot_1.png
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_read_sampled_reefs_data_11_]

  - source: incomplete_spatial.read_sampled_reefs_data_11_plot_2_
    product: cache/incomplete_spatial_read_sampled_reefs_data_11_plot_2.png
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_read_sampled_reefs_data_11_]

    ## Southern sampled reefs --------------------------------------------------
  - source: incomplete_spatial.incomplete_spatial_read_sampled_reefs_data_13_
    product: cache/incomplete_spatial_read_sampled_reefs_data_13_.pkl
    upstream: [incomplete_spatial_global_parameters_]

  - source: incomplete_spatial.read_sampled_reefs_data_13_plot_1_
    product: cache/incomplete_spatial_read_sampled_reefs_data_13_plot_1.png
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_read_sampled_reefs_data_13_]

  - source: incomplete_spatial.read_sampled_reefs_data_13_plot_2_
    product: cache/incomplete_spatial_read_sampled_reefs_data_13_plot_2.png
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_read_sampled_reefs_data_13_]

    ## All Western reefs --------------------------------------------------
  - source: incomplete_spatial.incomplete_spatial_read_sampled_reefs_data_14_
    product: cache/incomplete_spatial_read_sampled_reefs_data_14_.pkl
    upstream: [incomplete_spatial_global_parameters_]

  - source: incomplete_spatial.read_sampled_reefs_data_14_plot_1_
    product: cache/incomplete_spatial_read_sampled_reefs_data_14_plot_1.png
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_read_sampled_reefs_data_14_]

  - source: incomplete_spatial.read_sampled_reefs_data_14_plot_2_
    product: cache/incomplete_spatial_read_sampled_reefs_data_14_plot_2.png
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_read_sampled_reefs_data_14_]

    ## Western sampled reefs --------------------------------------------------
  - source: incomplete_spatial.incomplete_spatial_read_sampled_reefs_data_16_
    product: cache/incomplete_spatial_read_sampled_reefs_data_16_.pkl
    upstream: [incomplete_spatial_global_parameters_]

  - source: incomplete_spatial.read_sampled_reefs_data_16_plot_1_
    product: cache/incomplete_spatial_read_sampled_reefs_data_16_plot_1.png
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_read_sampled_reefs_data_16_]

  - source: incomplete_spatial.read_sampled_reefs_data_16_plot_2_
    product: cache/incomplete_spatial_read_sampled_reefs_data_16_plot_2.png
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_read_sampled_reefs_data_16_]

    ## All Eastern reefs --------------------------------------------------
  - source: incomplete_spatial.incomplete_spatial_read_sampled_reefs_data_15_
    product: cache/incomplete_spatial_read_sampled_reefs_data_15_.pkl
    upstream: [incomplete_spatial_global_parameters_]

  - source: incomplete_spatial.read_sampled_reefs_data_15_plot_1_
    product: cache/incomplete_spatial_read_sampled_reefs_data_15_plot_1.png
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_read_sampled_reefs_data_15_]

  - source: incomplete_spatial.read_sampled_reefs_data_15_plot_2_
    product: cache/incomplete_spatial_read_sampled_reefs_data_15_plot_2.png
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_read_sampled_reefs_data_15_]

    ## Eastern sampled reefs --------------------------------------------------
  - source: incomplete_spatial.incomplete_spatial_read_sampled_reefs_data_17_
    product: cache/incomplete_spatial_read_sampled_reefs_data_17_.pkl
    upstream: [incomplete_spatial_global_parameters_]

  - source: incomplete_spatial.read_sampled_reefs_data_17_plot_1_
    product: cache/incomplete_spatial_read_sampled_reefs_data_17_plot_1.png
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_read_sampled_reefs_data_17_]

  - source: incomplete_spatial.read_sampled_reefs_data_17_plot_2_
    product: cache/incomplete_spatial_read_sampled_reefs_data_17_plot_2.png
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_read_sampled_reefs_data_17_]

  ## Data transformations ============================================

  ## All Northern reefs --------------------------------------------------

  - source: incomplete_spatial.incomplete_spatial_data_prep_10_
    product: cache/incomplete_spatial_data_prep_10_.pkl
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_read_sampled_reefs_data_10_]

  - source: incomplete_spatial.incomplete_spatial_newdata_10_
    product: cache/incomplete_spatial_newdata_10_.pkl
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_data_prep_10_]

  - source: incomplete_spatial.incomplete_spatial_newdata_10b_
    product: cache/incomplete_spatial_newdata_10b_.pkl
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_data_prep_10_]

  ## All Southern reefs --------------------------------------------------

  - source: incomplete_spatial.incomplete_spatial_data_prep_11_
    product: cache/incomplete_spatial_data_prep_11_.pkl
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_read_sampled_reefs_data_11_]

  - source: incomplete_spatial.incomplete_spatial_newdata_11_
    product: cache/incomplete_spatial_newdata_11_.pkl
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_data_prep_11_]

  - source: incomplete_spatial.incomplete_spatial_newdata_11b_
    product: cache/incomplete_spatial_newdata_11b_.pkl
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_data_prep_11_]

  ## Northern sampled reefs --------------------------------------------------

  - source: incomplete_spatial.incomplete_spatial_data_prep_12_
    product: cache/incomplete_spatial_data_prep_12_.pkl
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_read_sampled_reefs_data_12_]

  - source: incomplete_spatial.incomplete_spatial_newdata_12_
    product: cache/incomplete_spatial_newdata_12_.pkl
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_data_prep_12_]

  - source: incomplete_spatial.incomplete_spatial_newdata_12b_
    product: cache/incomplete_spatial_newdata_12b_.pkl
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_data_prep_12_]

  ## Southern sampled reefs --------------------------------------------------

  - source: incomplete_spatial.incomplete_spatial_data_prep_13_
    product: cache/incomplete_spatial_data_prep_13_.pkl
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_read_sampled_reefs_data_13_]

  - source: incomplete_spatial.incomplete_spatial_newdata_13_
    product: cache/incomplete_spatial_newdata_13_.pkl
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_data_prep_13_]

  - source: incomplete_spatial.incomplete_spatial_newdata_13b_
    product: cache/incomplete_spatial_newdata_13b_.pkl
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_data_prep_13_]

  ## All Western reefs --------------------------------------------------

  - source: incomplete_spatial.incomplete_spatial_data_prep_14_
    product: cache/incomplete_spatial_data_prep_14_.pkl
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_read_sampled_reefs_data_14_]

  - source: incomplete_spatial.incomplete_spatial_newdata_14_
    product: cache/incomplete_spatial_newdata_14_.pkl
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_data_prep_14_]

  - source: incomplete_spatial.incomplete_spatial_newdata_14b_
    product: cache/incomplete_spatial_newdata_14b_.pkl
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_data_prep_14_]

  ## Western sampled reefs --------------------------------------------------

  - source: incomplete_spatial.incomplete_spatial_data_prep_16_
    product: cache/incomplete_spatial_data_prep_16_.pkl
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_read_sampled_reefs_data_16_]

  - source: incomplete_spatial.incomplete_spatial_newdata_16_
    product: cache/incomplete_spatial_newdata_16_.pkl
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_data_prep_16_]

  - source: incomplete_spatial.incomplete_spatial_newdata_16b_
    product: cache/incomplete_spatial_newdata_16b_.pkl
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_data_prep_16_]

  ## All Eastern reefs --------------------------------------------------

  - source: incomplete_spatial.incomplete_spatial_data_prep_15_
    product: cache/incomplete_spatial_data_prep_15_.pkl
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_read_sampled_reefs_data_15_]

  - source: incomplete_spatial.incomplete_spatial_newdata_15_
    product: cache/incomplete_spatial_newdata_15_.pkl
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_data_prep_15_]

  - source: incomplete_spatial.incomplete_spatial_newdata_15b_
    product: cache/incomplete_spatial_newdata_15b_.pkl
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_data_prep_15_]

  ## Eastern sampled reefs --------------------------------------------------

  - source: incomplete_spatial.incomplete_spatial_data_prep_17_
    product: cache/incomplete_spatial_data_prep_17_.pkl
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_read_sampled_reefs_data_17_]

  - source: incomplete_spatial.incomplete_spatial_newdata_17_
    product: cache/incomplete_spatial_newdata_17_.pkl
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_data_prep_17_]

  - source: incomplete_spatial.incomplete_spatial_newdata_17b_
    product: cache/incomplete_spatial_newdata_17b_.pkl
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_data_prep_17_]

    ## Modelled trends
    ## Northern sampled reefs ------------------------------------------------

  - source: incomplete_spatial.sampled_reefs_bart_data_12_
    product: cache/sampled_reefs_bart_data_12_.pkl
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_data_prep_12_, incomplete_spatial_newdata_10b_, incomplete_spatial_newdata_11b_, incomplete_spatial_newdata_12b_, incomplete_spatial_newdata_13b_]

  - source: incomplete_spatial.sampled_reefs_bart_data_12_sample_data_
    product: cache/sampled_reefs_bart_data_12_sample_data_.pkl
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_data_prep_12_]



  - source: incomplete_spatial.sampled_reefs_bart_fit_12_
    product: cache/sampled_reefs_bart_fit_12_.pkl
    upstream: [sampled_reefs_bart_data_12_]

  - source: incomplete_spatial.sampled_reefs_bart_prep_plot_12_
    product: cache/sampled_reefs_bart_prep_plot_12_.pkl
    upstream: [incomplete_spatial_global_parameters_, sampled_reefs_bart_fit_12_, sampled_reefs_bart_data_12_]

  - source: incomplete_spatial.sampled_reefs_bart_plot_12_
    product: cache/sampled_reefs_bart_plot_12_.pkl
    upstream: [incomplete_spatial_global_parameters_, sampled_reefs_bart_prep_plot_12_]

  - source: incomplete_spatial.sampled_reefs_bart_mse_12b_1_
    product: cache/sampled_reefs_bart_mse_12b_1_.pkl
    upstream: [incomplete_spatial_global_parameters_, sampled_reefs_bart_fit_12_, sampled_reefs_bart_data_12_]

  - source: incomplete_spatial.sampled_reefs_bart_prep_plot_12_2_
    product: cache/sampled_reefs_bart_prep_plot_12_2_.pkl
    upstream: [incomplete_spatial_global_parameters_, sampled_reefs_bart_fit_12_, sampled_reefs_bart_data_12_]

  - source: incomplete_spatial.sampled_reefs_bart_plot_12_2_
    product: cache/sampled_reefs_bart_plot_12_2_.pkl
    upstream: [incomplete_spatial_global_parameters_, sampled_reefs_bart_prep_plot_12_2_]

  - source: incomplete_spatial.sampled_reefs_bart_mse_12b_2_
    product: cache/sampled_reefs_bart_mse_12b_2_.pkl
    upstream: [incomplete_spatial_global_parameters_, sampled_reefs_bart_fit_12_, sampled_reefs_bart_data_12_]

  - source: incomplete_spatial.sampled_reefs_bart_prep_plot_12_3_
    product: cache/sampled_reefs_bart_prep_plot_12_3_.pkl
    upstream: [incomplete_spatial_global_parameters_, sampled_reefs_bart_fit_12_, sampled_reefs_bart_data_12_]

  - source: incomplete_spatial.sampled_reefs_bart_plot_12_3_
    product: cache/sampled_reefs_bart_plot_12_3_.pkl
    upstream: [incomplete_spatial_global_parameters_, sampled_reefs_bart_prep_plot_12_3_]

  - source: incomplete_spatial.sampled_reefs_bart_mse_12b_3_
    product: cache/sampled_reefs_bart_mse_12b_3_.pkl
    upstream: [incomplete_spatial_global_parameters_, sampled_reefs_bart_fit_12_, sampled_reefs_bart_data_12_]

    ## Southern sampled reefs ------------------------------------------------

  - source: incomplete_spatial.sampled_reefs_bart_data_13_
    product: cache/sampled_reefs_bart_data_13_.pkl
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_data_prep_13_, incomplete_spatial_newdata_10b_, incomplete_spatial_newdata_11b_, incomplete_spatial_newdata_12b_, incomplete_spatial_newdata_13b_]

  - source: incomplete_spatial.sampled_reefs_bart_data_13_sample_data_
    product: cache/sampled_reefs_bart_data_13_sample_data_.pkl
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_data_prep_13_]

  - source: incomplete_spatial.sampled_reefs_bart_fit_13_
    product: cache/sampled_reefs_bart_fit_13_.pkl
    upstream: [sampled_reefs_bart_data_13_]

  - source: incomplete_spatial.sampled_reefs_bart_prep_plot_13_
    product: cache/sampled_reefs_bart_prep_plot_13_.pkl
    upstream: [incomplete_spatial_global_parameters_, sampled_reefs_bart_fit_13_, sampled_reefs_bart_data_13_]

  - source: incomplete_spatial.sampled_reefs_bart_plot_13_
    product: cache/sampled_reefs_bart_plot_13_.pkl
    upstream: [incomplete_spatial_global_parameters_, sampled_reefs_bart_prep_plot_13_]

  - source: incomplete_spatial.sampled_reefs_bart_mse_13b_1_
    product: cache/sampled_reefs_bart_mse_13b_1_.pkl
    upstream: [incomplete_spatial_global_parameters_, sampled_reefs_bart_fit_13_, sampled_reefs_bart_data_13_]

  - source: incomplete_spatial.sampled_reefs_bart_prep_plot_13_2_
    product: cache/sampled_reefs_bart_prep_plot_13_2_.pkl
    upstream: [incomplete_spatial_global_parameters_, sampled_reefs_bart_fit_13_, sampled_reefs_bart_data_13_]

  - source: incomplete_spatial.sampled_reefs_bart_plot_13_2_
    product: cache/sampled_reefs_bart_plot_13_2_.pkl
    upstream: [incomplete_spatial_global_parameters_, sampled_reefs_bart_prep_plot_13_2_]

  - source: incomplete_spatial.sampled_reefs_bart_mse_13b_2_
    product: cache/sampled_reefs_bart_mse_13b_2_.pkl
    upstream: [incomplete_spatial_global_parameters_, sampled_reefs_bart_fit_13_, sampled_reefs_bart_data_13_]

  - source: incomplete_spatial.sampled_reefs_bart_prep_plot_13_3_
    product: cache/sampled_reefs_bart_prep_plot_13_3_.pkl
    upstream: [incomplete_spatial_global_parameters_, sampled_reefs_bart_fit_13_, sampled_reefs_bart_data_13_]

  - source: incomplete_spatial.sampled_reefs_bart_plot_13_3_
    product: cache/sampled_reefs_bart_plot_13_3_.pkl
    upstream: [incomplete_spatial_global_parameters_, sampled_reefs_bart_prep_plot_13_3_]

  - source: incomplete_spatial.sampled_reefs_bart_mse_13b_3_
    product: cache/sampled_reefs_bart_mse_13b_3_.pkl
    upstream: [incomplete_spatial_global_parameters_, sampled_reefs_bart_fit_13_, sampled_reefs_bart_data_13_]

    ## Western sampled reefs ------------------------------------------------

  - source: incomplete_spatial.sampled_reefs_bart_data_16_
    product: cache/sampled_reefs_bart_data_16_.pkl
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_data_prep_16_, incomplete_spatial_newdata_14b_, incomplete_spatial_newdata_15b_, incomplete_spatial_newdata_16b_, incomplete_spatial_newdata_17b_]

  - source: incomplete_spatial.sampled_reefs_bart_data_16_sample_data_
    product: cache/sampled_reefs_bart_data_16_sample_data_.pkl
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_data_prep_16_]

  - source: incomplete_spatial.sampled_reefs_bart_fit_16_
    product: cache/sampled_reefs_bart_fit_16_.pkl
    upstream: [sampled_reefs_bart_data_16_]

  - source: incomplete_spatial.sampled_reefs_bart_prep_plot_16_
    product: cache/sampled_reefs_bart_prep_plot_16_.pkl
    upstream: [incomplete_spatial_global_parameters_, sampled_reefs_bart_fit_16_, sampled_reefs_bart_data_16_]

  - source: incomplete_spatial.sampled_reefs_bart_plot_16_
    product: cache/sampled_reefs_bart_plot_16_.pkl
    upstream: [incomplete_spatial_global_parameters_, sampled_reefs_bart_prep_plot_16_]

  - source: incomplete_spatial.sampled_reefs_bart_mse_16b_1_
    product: cache/sampled_reefs_bart_mse_16b_1_.pkl
    upstream: [incomplete_spatial_global_parameters_, sampled_reefs_bart_fit_16_, sampled_reefs_bart_data_16_]

  - source: incomplete_spatial.sampled_reefs_bart_prep_plot_16_2_
    product: cache/sampled_reefs_bart_prep_plot_16_2_.pkl
    upstream: [incomplete_spatial_global_parameters_, sampled_reefs_bart_fit_16_, sampled_reefs_bart_data_16_]

  - source: incomplete_spatial.sampled_reefs_bart_plot_16_2_
    product: cache/sampled_reefs_bart_plot_16_2_.pkl
    upstream: [incomplete_spatial_global_parameters_, sampled_reefs_bart_prep_plot_16_2_]

  - source: incomplete_spatial.sampled_reefs_bart_mse_16b_2_
    product: cache/sampled_reefs_bart_mse_16b_2_.pkl
    upstream: [incomplete_spatial_global_parameters_, sampled_reefs_bart_fit_16_, sampled_reefs_bart_data_16_]

  - source: incomplete_spatial.sampled_reefs_bart_prep_plot_16_3_
    product: cache/sampled_reefs_bart_prep_plot_16_3_.pkl
    upstream: [incomplete_spatial_global_parameters_, sampled_reefs_bart_fit_16_, sampled_reefs_bart_data_16_]

  - source: incomplete_spatial.sampled_reefs_bart_plot_16_3_
    product: cache/sampled_reefs_bart_plot_16_3_.pkl
    upstream: [incomplete_spatial_global_parameters_, sampled_reefs_bart_prep_plot_16_3_]

  - source: incomplete_spatial.sampled_reefs_bart_mse_16b_3_
    product: cache/sampled_reefs_bart_mse_16b_3_.pkl
    upstream: [incomplete_spatial_global_parameters_, sampled_reefs_bart_fit_16_, sampled_reefs_bart_data_16_]

    ## Eastern sampled reefs ------------------------------------------------

  - source: incomplete_spatial.sampled_reefs_bart_data_17_
    product: cache/sampled_reefs_bart_data_17_.pkl
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_data_prep_17_, incomplete_spatial_newdata_14b_, incomplete_spatial_newdata_15b_, incomplete_spatial_newdata_17b_, incomplete_spatial_newdata_17b_]

  - source: incomplete_spatial.sampled_reefs_bart_data_17_sample_data_
    product: cache/sampled_reefs_bart_data_17_sample_data_.pkl
    upstream: [incomplete_spatial_global_parameters_, incomplete_spatial_data_prep_17_]

  - source: incomplete_spatial.sampled_reefs_bart_fit_17_
    product: cache/sampled_reefs_bart_fit_17_.pkl
    upstream: [sampled_reefs_bart_data_17_]

  - source: incomplete_spatial.sampled_reefs_bart_prep_plot_17_
    product: cache/sampled_reefs_bart_prep_plot_17_.pkl
    upstream: [incomplete_spatial_global_parameters_, sampled_reefs_bart_fit_17_, sampled_reefs_bart_data_17_]

  - source: incomplete_spatial.sampled_reefs_bart_plot_17_
    product: cache/sampled_reefs_bart_plot_17_.pkl
    upstream: [incomplete_spatial_global_parameters_, sampled_reefs_bart_prep_plot_17_]

  - source: incomplete_spatial.sampled_reefs_bart_mse_17b_1_
    product: cache/sampled_reefs_bart_mse_17b_1_.pkl
    upstream: [incomplete_spatial_global_parameters_, sampled_reefs_bart_fit_17_, sampled_reefs_bart_data_17_]

  - source: incomplete_spatial.sampled_reefs_bart_prep_plot_17_2_
    product: cache/sampled_reefs_bart_prep_plot_17_2_.pkl
    upstream: [incomplete_spatial_global_parameters_, sampled_reefs_bart_fit_17_, sampled_reefs_bart_data_17_]

  - source: incomplete_spatial.sampled_reefs_bart_plot_17_2_
    product: cache/sampled_reefs_bart_plot_17_2_.pkl
    upstream: [incomplete_spatial_global_parameters_, sampled_reefs_bart_prep_plot_17_2_]

  - source: incomplete_spatial.sampled_reefs_bart_mse_17b_2_
    product: cache/sampled_reefs_bart_mse_17b_2_.pkl
    upstream: [incomplete_spatial_global_parameters_, sampled_reefs_bart_fit_17_, sampled_reefs_bart_data_17_]

  - source: incomplete_spatial.sampled_reefs_bart_prep_plot_17_3_
    product: cache/sampled_reefs_bart_prep_plot_17_3_.pkl
    upstream: [incomplete_spatial_global_parameters_, sampled_reefs_bart_fit_17_, sampled_reefs_bart_data_17_]

  - source: incomplete_spatial.sampled_reefs_bart_plot_17_3_
    product: cache/sampled_reefs_bart_plot_17_3_.pkl
    upstream: [incomplete_spatial_global_parameters_, sampled_reefs_bart_prep_plot_17_3_]

  - source: incomplete_spatial.sampled_reefs_bart_mse_17b_3_
    product: cache/sampled_reefs_bart_mse_17b_3_.pkl
    upstream: [incomplete_spatial_global_parameters_, sampled_reefs_bart_fit_17_, sampled_reefs_bart_data_17_]
